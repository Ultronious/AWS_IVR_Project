{
  "Version": "2019-10-30",
  "StartAction": "5b179dde-518b-4152-bd45-b613f3e08d0e",
  "Metadata": {
    "entryPointPosition": {
      "x": -1708.8,
      "y": -1607.2
    },
    "ActionMetadata": {
      "5b179dde-518b-4152-bd45-b613f3e08d0e": {
        "position": {
          "x": -1601.6,
          "y": -1619.2
        }
      },
      "Error-copy-1": {
        "position": {
          "x": -1.6,
          "y": -1059.2
        },
        "isFriendlyName": true
      },
      "d533c585-9b80-4491-9ada-e9f0d147c37a": {
        "position": {
          "x": 970.4,
          "y": -1654.4
        },
        "parameters": {
          "QueueId": {
            "displayName": "BasicQueue"
          }
        },
        "queue": {
          "text": "BasicQueue"
        }
      },
      "25cc9c5c-e82f-4bcb-8075-429d586c1525": {
        "position": {
          "x": 1224.8,
          "y": -1647.2
        }
      },
      "e0ed9567-10c6-4812-af6a-dddffb049dda": {
        "position": {
          "x": 675.2,
          "y": -1630.4
        }
      },
      "5754c9fd-8031-4196-8a97-c92592ed58f7": {
        "position": {
          "x": 682.4,
          "y": -1428
        }
      },
      "00395211-0629-4f82-a149-5b93ed606256": {
        "position": {
          "x": 451.2,
          "y": -1436.8
        }
      },
      "Greetings": {
        "position": {
          "x": -1376.8,
          "y": -1640
        },
        "isFriendlyName": true
      },
      "1356a347-27be-4755-a4cd-372ad2759f71": {
        "position": {
          "x": 450.4,
          "y": -1641.6
        }
      },
      "9c470de8-beb3-41f6-bf2a-e5e71e0f3ed5": {
        "position": {
          "x": -131.2,
          "y": -1668.8
        }
      },
      "Error-copy-2": {
        "position": {
          "x": 380.8,
          "y": -1228
        },
        "isFriendlyName": true
      },
      "ab82f591-21df-419d-afb4-297c1d921b3a": {
        "position": {
          "x": 117.6,
          "y": -1677.6
        },
        "parameters": {
          "LexV2Bot": {
            "AliasArn": {
              "displayName": "TestBotAlias",
              "useLexBotDropdown": true,
              "lexV2BotName": "QnABot"
            }
          }
        },
        "useLexBotDropdown": true,
        "lexV2BotName": "QnABot",
        "lexV2BotAliasName": "TestBotAlias",
        "conditionMetadata": [
          {
            "id": "c712948e-1dcb-42a1-8f82-387fc9d87f89",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "CheckBalance"
          }
        ]
      },
      "e9f36abe-6fa0-497d-8ad4-fa2bd3c1fca7": {
        "position": {
          "x": -1129.6,
          "y": -1659.2
        },
        "parameters": {
          "LexV2Bot": {
            "AliasArn": {
              "lexV2BotName": ""
            },
            "displayName": ""
          }
        },
        "lexV2BotName": "",
        "conditionMetadata": [
          {
            "id": "d7488cce-37e8-4698-9fc1-76e098b66704",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "\tCheckBalance"
          }
        ]
      },
      "6c5efcbe-1aa1-4d1c-b07a-3726db147424": {
        "position": {
          "x": -355.2,
          "y": -1657.6
        },
        "parameters": {
          "Attributes": {
            "AccountBalance": {
              "useDynamic": true
            }
          }
        },
        "dynamicParams": [
          "AccountBalance"
        ]
      },
      "Error": {
        "position": {
          "x": -1181.6,
          "y": -1012
        },
        "isFriendlyName": true
      },
      "LambdaCalling": {
        "position": {
          "x": -575.2,
          "y": -1656
        },
        "isFriendlyName": true,
        "parameters": {
          "LambdaFunctionARN": {
            "displayName": "Accounts"
          }
        },
        "dynamicMetadata": {}
      },
      "2c2f188d-8612-4383-8134-1a58ecaee5d8": {
        "position": {
          "x": 1003.2,
          "y": -1403.2
        }
      },
      "708a71ef-5bfc-42c4-aa66-0158457ff928": {
        "position": {
          "x": 84,
          "y": -1885.6
        }
      },
      "2f71e5ab-70db-423a-b43c-d3a2709e3fda": {
        "position": {
          "x": -848,
          "y": -1649.6
        }
      },
      "47b550a8-0bf1-4629-ac52-a22771f6c941": {
        "position": {
          "x": -164.8,
          "y": -1876.8
        }
      },
      "d1bfd45d-b710-41b8-b057-38c4bd155397": {
        "position": {
          "x": -412.8,
          "y": -1879.2
        }
      },
      "eac5be0f-c96d-42ab-a2f9-583c77dd80ff": {
        "position": {
          "x": 1565.6,
          "y": -1536
        }
      },
      "Get Aadhar Card Number": {
        "position": {
          "x": -673.6,
          "y": -1907.2
        },
        "isFriendlyName": true,
        "parameters": {
          "LexV2Bot": {
            "AliasArn": {
              "lexV2BotName": ""
            },
            "displayName": ""
          }
        },
        "lexV2BotName": "",
        "conditionMetadata": [
          {
            "id": "56e8edf2-77a6-4868-b8d2-6147dbed30e8",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "GetAadharNumber"
          }
        ]
      },
      "eea70290-5763-48cd-a65a-eb5c30bc680f": {
        "position": {
          "x": -112.8,
          "y": -2104.8
        }
      },
      "281ba6c4-5cc3-4ffe-a04d-cfa30734c57f": {
        "position": {
          "x": -407.2,
          "y": -2112
        },
        "parameters": {
          "Attributes": {
            "AadharNumber": {
              "useDynamic": true
            }
          }
        },
        "dynamicParams": [
          "AadharNumber"
        ]
      }
    },
    "Annotations": [],
    "name": "QnA",
    "description": "",
    "type": "contactFlow",
    "status": "PUBLISHED",
    "hash": {}
  },
  "Actions": [
    {
      "Parameters": {
        "FlowLoggingBehavior": "Enabled"
      },
      "Identifier": "5b179dde-518b-4152-bd45-b613f3e08d0e",
      "Type": "UpdateFlowLoggingBehavior",
      "Transitions": {
        "NextAction": "Greetings"
      }
    },
    {
      "Parameters": {
        "Text": "Error."
      },
      "Identifier": "Error-copy-1",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
        "Errors": [
          {
            "NextAction": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "QueueId": "arn:aws:connect:us-west-2:285233622961:instance/f42cf755-8308-4f10-a650-c64561ddc1d3/queue/2a2ced6a-6a0a-47cb-93bf-515e2d6ca765"
      },
      "Identifier": "d533c585-9b80-4491-9ada-e9f0d147c37a",
      "Type": "UpdateContactTargetQueue",
      "Transitions": {
        "NextAction": "25cc9c5c-e82f-4bcb-8075-429d586c1525",
        "Errors": [
          {
            "NextAction": "Error-copy-2",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {},
      "Identifier": "25cc9c5c-e82f-4bcb-8075-429d586c1525",
      "Type": "TransferContactToQueue",
      "Transitions": {
        "NextAction": "Error-copy-2",
        "Errors": [
          {
            "NextAction": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
            "ErrorType": "QueueAtCapacity"
          },
          {
            "NextAction": "Error-copy-2",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Thank you for your patience please wait while we connect you to our agent."
      },
      "Identifier": "e0ed9567-10c6-4812-af6a-dddffb049dda",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "d533c585-9b80-4491-9ada-e9f0d147c37a",
        "Errors": [
          {
            "NextAction": "Error-copy-2",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Thank you for using our service , Have a Nice Day."
      },
      "Identifier": "5754c9fd-8031-4196-8a97-c92592ed58f7",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "2c2f188d-8612-4383-8134-1a58ecaee5d8",
        "Errors": [
          {
            "NextAction": "Error-copy-2",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "You have pressed 2 to end this call."
      },
      "Identifier": "00395211-0629-4f82-a149-5b93ed606256",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "5754c9fd-8031-4196-8a97-c92592ed58f7",
        "Errors": [
          {
            "NextAction": "Error-copy-2",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Welcome to QnA bank."
      },
      "Identifier": "Greetings",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "e9f36abe-6fa0-497d-8ad4-fa2bd3c1fca7",
        "Errors": [
          {
            "NextAction": "Error",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "You have pressed 1 to continue."
      },
      "Identifier": "1356a347-27be-4755-a4cd-372ad2759f71",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "e0ed9567-10c6-4812-af6a-dddffb049dda",
        "Errors": [
          {
            "NextAction": "Error-copy-2",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Your remaining balance is $.Attributes.AccountBalance."
      },
      "Identifier": "9c470de8-beb3-41f6-bf2a-e5e71e0f3ed5",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "ab82f591-21df-419d-afb4-297c1d921b3a",
        "Errors": [
          {
            "NextAction": "Error-copy-1",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Error."
      },
      "Identifier": "Error-copy-2",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "2c2f188d-8612-4383-8134-1a58ecaee5d8",
        "Errors": [
          {
            "NextAction": "2c2f188d-8612-4383-8134-1a58ecaee5d8",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Press 1 if you wish to use our other services.\nPress 2 to disconnect the call.",
        "LexV2Bot": {
          "AliasArn": "arn:aws:lex:us-west-2:285233622961:bot-alias/GRYUOO9VPH/TSTALIASID"
        }
      },
      "Identifier": "ab82f591-21df-419d-afb4-297c1d921b3a",
      "Type": "ConnectParticipantWithLexBot",
      "Transitions": {
        "NextAction": "Error-copy-2",
        "Conditions": [
          {
            "NextAction": "1356a347-27be-4755-a4cd-372ad2759f71",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "CheckBalance"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "00395211-0629-4f82-a149-5b93ed606256",
            "ErrorType": "NoMatchingCondition"
          },
          {
            "NextAction": "Error-copy-2",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Select 1 for Balance Inquiry.",
        "LexV2Bot": {
          "AliasArn": "arn:aws:lex:us-west-2:285233622961:bot-alias/GRYUOO9VPH/TSTALIASID"
        }
      },
      "Identifier": "e9f36abe-6fa0-497d-8ad4-fa2bd3c1fca7",
      "Type": "ConnectParticipantWithLexBot",
      "Transitions": {
        "NextAction": "Error",
        "Conditions": [
          {
            "NextAction": "2f71e5ab-70db-423a-b43c-d3a2709e3fda",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "\tCheckBalance"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "Error",
            "ErrorType": "NoMatchingCondition"
          },
          {
            "NextAction": "Error",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "AccountBalance": "$.External.AccountBalance"
        },
        "TargetContact": "Current"
      },
      "Identifier": "6c5efcbe-1aa1-4d1c-b07a-3726db147424",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "9c470de8-beb3-41f6-bf2a-e5e71e0f3ed5",
        "Errors": [
          {
            "NextAction": "Error-copy-1",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Error."
      },
      "Identifier": "Error",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
        "Errors": [
          {
            "NextAction": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "arn:aws:lambda:us-west-2:285233622961:function:Accounts",
        "InvocationTimeLimitSeconds": "8",
        "InvocationType": "SYNCHRONOUS",
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "LambdaCalling",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "6c5efcbe-1aa1-4d1c-b07a-3726db147424",
        "Errors": [
          {
            "NextAction": "Error",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {},
      "Identifier": "2c2f188d-8612-4383-8134-1a58ecaee5d8",
      "Type": "DisconnectParticipant",
      "Transitions": {}
    },
    {
      "Parameters": {
        "Text": "Sorry I didn't get that. Please provide the valid 12 digit Aadhar Card Number."
      },
      "Identifier": "708a71ef-5bfc-42c4-aa66-0158457ff928",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
        "Errors": [
          {
            "NextAction": "2c2f188d-8612-4383-8134-1a58ecaee5d8",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "You have pressed 1 for enquiry about your Account Balance."
      },
      "Identifier": "2f71e5ab-70db-423a-b43c-d3a2709e3fda",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "Get Aadhar Card Number",
        "Errors": [
          {
            "NextAction": "Error",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Sorry I didn't get that. Please provide the valid 12 digit Aadhar Card Number."
      },
      "Identifier": "47b550a8-0bf1-4629-ac52-a22771f6c941",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "Get Aadhar Card Number",
        "Errors": [
          {
            "NextAction": "2c2f188d-8612-4383-8134-1a58ecaee5d8",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LoopCount": "2"
      },
      "Identifier": "d1bfd45d-b710-41b8-b057-38c4bd155397",
      "Type": "Loop",
      "Transitions": {
        "NextAction": "708a71ef-5bfc-42c4-aa66-0158457ff928",
        "Conditions": [
          {
            "NextAction": "47b550a8-0bf1-4629-ac52-a22771f6c941",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "ContinueLooping"
              ]
            }
          },
          {
            "NextAction": "708a71ef-5bfc-42c4-aa66-0158457ff928",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "DoneLooping"
              ]
            }
          }
        ]
      }
    },
    {
      "Parameters": {},
      "Identifier": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
      "Type": "DisconnectParticipant",
      "Transitions": {}
    },
    {
      "Parameters": {
        "Text": "Please Enter Your Aadhar Card Number.",
        "LexV2Bot": {
          "AliasArn": "arn:aws:lex:us-west-2:285233622961:bot-alias/9YLPSHS9DK/5QYHTYUCQO"
        }
      },
      "Identifier": "Get Aadhar Card Number",
      "Type": "ConnectParticipantWithLexBot",
      "Transitions": {
        "NextAction": "d1bfd45d-b710-41b8-b057-38c4bd155397",
        "Conditions": [
          {
            "NextAction": "281ba6c4-5cc3-4ffe-a04d-cfa30734c57f",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "GetAadharNumber"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "d1bfd45d-b710-41b8-b057-38c4bd155397",
            "ErrorType": "NoMatchingCondition"
          },
          {
            "NextAction": "d1bfd45d-b710-41b8-b057-38c4bd155397",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "The Aadhar Number I got Is: $.Attributes.AadharNumber"
      },
      "Identifier": "eea70290-5763-48cd-a65a-eb5c30bc680f",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "LambdaCalling",
        "Errors": [
          {
            "NextAction": "eac5be0f-c96d-42ab-a2f9-583c77dd80ff",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "AadharNumber": "$.Lex.Slots.GetAadhar"
        },
        "TargetContact": "Current"
      },
      "Identifier": "281ba6c4-5cc3-4ffe-a04d-cfa30734c57f",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "eea70290-5763-48cd-a65a-eb5c30bc680f",
        "Errors": [
          {
            "NextAction": "Error",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    }
  ]
}